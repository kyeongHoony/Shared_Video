# ──────────────────────────────────────────────────────────────────────────────
# Requirements for jetson_baseline.py / jetson_optimizer.py
#
# IMPORTANT — PyTorch on Jetson:
#   Do NOT install torch via pip install torch.
#   Install from NVIDIA's JetPack-compatible wheel instead:
#     https://forums.developer.nvidia.com/t/pytorch-for-jetson/72048
#   Example (JetPack 6.1, torch 2.5.0a0+872d972e41.nv24.8):
#     pip install --index-url https://developer.download.nvidia.com/compute/redist/jp/v61 torch
#
# IMPORTANT — torchvision on Jetson:
#   Do NOT install torchvision via pip install torchvision (ABI mismatch).
#   Build from source against the installed JetPack torch:
#     git clone https://github.com/pytorch/vision
#     cd vision && git checkout v0.20.0
#     pip install --no-build-isolation .
#
# IMPORTANT — libcusparseLt (system library required by torch 2.5):
#   Install via NVIDIA CUDA apt repository:
#     wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/arm64/cuda-keyring_1.1-1_all.deb
#     sudo dpkg -i cuda-keyring_1.1-1_all.deb
#     sudo apt-get update
#     sudo apt-get install -y libcusparselt0
#
#   Location is /usr/lib/aarch64-linux-gnu/libcusparseLt.so.0.7.1.0 and .0 
#   Tp find this, dpkg -L libcusparselt0 | grep "\.so"
#   The library installs to /usr/lib. Add to LD_LIBRARY_PATH:
#     export LD_LIBRARY_PATH=/usr/lib:$LD_LIBRARY_PATH
#   To apply permanently in the conda environment:
#     mkdir -p $CONDA_PREFIX/etc/conda/activate.d
#     echo 'export LD_LIBRARY_PATH=/usr/lib:$LD_LIBRARY_PATH' \
#         >> $CONDA_PREFIX/etc/conda/activate.d/cuda.sh
#
# IMPORTANT — setuptools:
#   setuptools>=70 removes pkg_resources. Pin to 68.x before building torchvision:
#     pip install "setuptools==68.0.0"
#
# Install everything else with:
#   pip install -r requirements.txt
# ──────────────────────────────────────────────────────────────────────────────

# Hugging Face — model loading and inference
transformers==4.49.0
accelerate>=0.26.0
qwen-vl-utils>=0.0.8

# Build tools (must be <70 for torchvision source build)
setuptools==68.0.0

# Computer vision
opencv-python-headless==4.8.1.78
Pillow>=10.0.0

# Numeric / system monitoring (must be <2.0 — opencv 4.8.x and JetPack torch require numpy 1.x)
numpy>=1.24.0,<2.0
psutil>=5.9.0

# Testing (optional — only needed for test_jetson.py)
pytest>=7.0.0
